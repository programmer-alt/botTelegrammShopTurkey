# Telegram Shop Bot

## Описание проекта

Telegram Shop Bot — это телеграм-бот для магазина продуктов, который позволяет пользователям просматривать каталог продуктов, получать информацию о товарах, а также слушать музыку. Проект состоит из серверной части на Node.js с использованием Express и клиентской части на React с TypeScript.

Основные возможности:

- Просмотр списка продуктов с описаниями и изображениями
- Загрузка и парсинг XLSX, CVS файлов с продуктами
- Отправка изображений продуктов через API
- Интерактивное меню с командами и навигацией
- Музыкальный раздел с возможностью прослушивания треков

## Требования

- Node.js >= 16.x
- npm >= 8.x
- PostgreSQL >= 13.x
- Telegram аккаунт

## Технологии и методы 

### Серверная часть

- Node.js — среда выполнения JavaScript, построенная на движке V8 от Chrome.
- Express — фреймворк для создания серверов на Node.js.
- TypeScript — типизированное надмножество JavaScript, которое компилируется в обычный JavaScript.
- dotenv — для управления переменными окружения.
- pg — клиент PostgreSQL для Node.js (работа с базой данных).
- cors — для поддержки кросс-доменных запросов.
- **PostgreSQL** — реляционная база данных для хранения информации о продуктах.
- multer — для загрузки файлов (например, изображений и XLSX/CSV) через multipart/form-data.
- Работа с файлами XLSX и CSV для импорта продуктов (например, через библиотеки xlsx, csv-parse).
- REST API для взаимодействия с клиентом.
- Обработка и раздача статических изображений продуктов (через express и fs).
- path, fs — для работы с файловой системой и путями.

### Клиентская часть

- React - фреймворк для создания пользовательских интерфейсов.
- TypeScript — типизированное надмножество JavaScript, которое компилируется в обычный JavaScript.
- Vite — система сборки и разработки.
- Axios — для запросов к API.
- Redux Toolkit — для управления состоянием приложения.
- CSS и CSS-модули — для стилизации компонентов.
- React Router — для маршрутизации между страницами (если используется).
- FormData API — для загрузки файлов на сервер (используется в сервисах).

### Телеграмм бот

- **TypeScript**: Типизированное надмножество JavaScript, которое компилируется в обычный JavaScript.
- **Node.js**: Среда выполнения JavaScript, построенная на движке V8 от Chrome.
- **Nodemon**: Инструмент, который помогает разрабатывать приложения на Node.js, автоматически перезапуская приложение при изменении файлов.
- **ts-node**: Движок выполнения TypeScript и REPL для Node.js.
- **Axios**: Клиент HTTP на основе промисов для браузера и Node.js.
- **Debug**: Небольшая утилита для отладки в Node.js и браузерах.
- **Dotenv**: Модуль, который загружает переменные окружения из файла `.env` в `process.env`.
- **Node Telegram Bot API**: Библиотека для взаимодействия с API Telegram Bot.
- **pg**: Клиент PostgreSQL для Node.js.

## База данных

В проекте используется база данных **PostgreSQL**. Основная таблица для хранения информации о продуктах имеет следующую структуру:

| Поле         | Тип данных           | Описание                        |
|--------------|---------------------|---------------------------------|
| id           | integer             | Уникальный идентификатор товара |
| name         | character varying   | Название продукта               |
| price        | numeric             | Цена продукта                   |
| description  | text                | Описание продукта               |
| image_path   | character varying   | Путь к изображению продукта     |

Пример SQL для создания таблицы:
```sql
CREATE TABLE product (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    price NUMERIC,
    description TEXT,
    image_path VARCHAR(255)
);

### Дополнительно

- Telegram Bot API для взаимодействия с пользователями
- Использование переменных окружения для конфигурации API URL, базы данных и настроек бота
- Проверка существования файлов изображений перед отправкой

## Структура проекта

- `server/` — серверная часть с API и логикой бота
- `client/` — клиентская часть на React
- `src/` — телеграмм бот

## Установка и запуск

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/programmer-alt/botTelegrammShopTurkey/tree/develop
   ```
2. Установите зависимости для сервера и клиента:
   ```bash
   cd server
   npm install
   cd client
   npm install
   cd src
   npm install
   ```
3. Создайте файлы переменных окружения:

   - `server/.env.server` — астройки базы данных и API
   - `src/.env.bot` — настройки бота (токен, порт)
   - `client/.env.client` — URL API клиента (например, `VITE_API_URL=http://localhost:3001/api`)

   

4. Запустите сервер:
   ```bash
   cd server
   npm run dev
   ```
5. Запустите клиент:
   ```bash
   cd client
   npm run start
   ```
6. Запустите телеграмм бота:
   ```bash
   cd src
   npm run dev
   ```
7. Откройте Telegram и начните взаимодействие с ботом

## Тестирование

Рекомендуется проверить следующие сценарии:

- Получение списка продуктов через API
- Загрузка и парсинг XLSX файлов с продуктами
- Отправка изображений продуктов через API
- Работа команд бота и навигация по меню
- Прослушивание музыки через бот

## Лицензия

Укажите тип лицензии, если проект публичный (например, MIT, Apache 2.0 и т.д.).

## Контакты и поддержка

Если у вас возникли вопросы или предложения, пожалуйста, создайте issue в репозитории или свяжитесь с автором проекта.
